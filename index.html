<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />

  <!-- âœ… SEO -->
  <title>ResumeIQ â€“ ATS Resume Builder & JD Matcher</title>
  <meta name="description" content="ResumeIQ helps you optimize your resume for ATS systems. Improve ATS score, match job descriptions, and download recruiter-ready PDFs." />
  <meta name="keywords" content="ATS Resume Builder, Resume ATS Checker, Job Description Match, Resume PDF" />

  <!-- âœ… Social Sharing -->
  <meta property="og:title" content="ResumeIQ â€“ ATS Resume Builder" />
  <meta property="og:description" content="Improve your ATS score by 25â€“40%. Match job descriptions instantly and download ATS-friendly resumes." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://resumeiq.online" />

  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 24px;
      max-width: 900px;
      margin: auto;
      background: #fafafa;
    }
    input, textarea, button, select {
      width: 100%;
      margin: 8px 0;
      padding: 10px;
      font-size: 14px;
    }
    button { cursor: pointer; }
    .box {
      background: #fff;
      padding: 16px;
      margin-top: 24px;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.08);
    }
    .tag {
      display: inline-block;
      padding: 6px 10px;
      margin: 4px;
      border-radius: 4px;
      font-size: 13px;
    }
    .matched { background: #d4f8d4; }
    .missing { background: #ffd6d6; }
    .muted { color: #666; font-size: 14px; }
  </style>

  <!-- PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <!-- Razorpay -->
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
</head>
<body>

<h2>ATS Resume Builder</h2>
<p class="muted">Improve your resume ATS score and match job descriptions in seconds.</p>

<input id="name" placeholder="Name" />
<input id="role" placeholder="Target Role" />
<textarea id="summary" placeholder="Professional Summary"></textarea>
<button onclick="rewriteSummary()">âœ¨ Rewrite Summary (AI)</button>
<textarea id="jd" placeholder="Job Description"></textarea>
<textarea id="experience" placeholder="Experience"></textarea>
<input id="skills" placeholder="Skills (comma separated)" />

<button onclick="saveResume()">Save Resume</button>
<button onclick="downloadPDF()">Download Resume (PDF)</button>

<!-- CURRENT PLAN -->
<div class="box">
  <h3>Current Plan</h3>
  <p><b>Plan:</b> <span id="plan"></span></p>
  <p><b>Plan Expiry:</b> <span id="expiry"></span></p>
  <p><b>AI Rewrites Left:</b> <span id="aiLeft"></span></p>
</div>

<!-- UPGRADE -->
<div class="box">
  <h3>Upgrade Plan</h3>
  <select id="upgradeSelect">
    <option value="49">â‚¹49 â€“ One Time</option>
    <option value="99">â‚¹99 â€“ 1 Week</option>
    <option value="149">â‚¹149 â€“ 15 Days</option>
    <option value="299">â‚¹299 â€“ 1 Month</option>
    <option value="699">â‚¹699 â€“ 3 Months</option>
    <option value="999">â‚¹999 â€“ 6 Months</option>
    <option value="1699">â‚¹1699 â€“ 1 Year</option>
  </select>
  <button onclick="upgradePlan()">Upgrade</button>
</div>

<div class="box muted">
  ResumeIQ v1.0 â€¢ Last updated: <span id="buildDate"></span>
</div>

<script>
document.getElementById("buildDate").textContent = new Date().toLocaleDateString();

/* ðŸ”‘ Razorpay Test Key */
const RAZORPAY_KEY = "rzp_test_XXXXXXXXXX";

/* PLANS */
const PLANS = {
  49:{name:"One-Time",days:1,ai:3},
  99:{name:"Weekly",days:7,ai:10},
  149:{name:"15 Days",days:15,ai:25},
  299:{name:"Monthly",days:30,ai:50},
  699:{name:"3 Months",days:90,ai:120},
  999:{name:"6 Months",days:180,ai:250},
  1699:{name:"Yearly",days:365,ai:999}
};

/* Default plan */
if(!localStorage.getItem("plan")){
  localStorage.setItem("plan",JSON.stringify({
    price:49,
    name:"One-Time",
    expiry:null,
    aiLeft:3
  }));
}

/* Helpers */
function getPlanByPrice(price){
  return PLANS[price];
}

function renderPlan(){
  const p = JSON.parse(localStorage.getItem("plan"));
  plan.textContent = `â‚¹${p.price} (${p.name})`;
  expiry.textContent = p.expiry
    ? new Date(p.expiry).toLocaleDateString()
    : "One-time (no expiry)";
  aiLeft.textContent = p.aiLeft;
}

/* Razorpay Checkout */
function upgradePlan(){
  const price = upgradeSelect.value;
  const selectedPlan = getPlanByPrice(price);

  if(!selectedPlan){
    alert("Invalid plan");
    return;
  }

  const options = {
    key: RAZORPAY_KEY,
    amount: price * 100,
    currency: "INR",
    name: "ResumeIQ",
    description: `${selectedPlan.name} Plan`,

    handler: function(){
      const expiry = selectedPlan.days
        ? Date.now() + selectedPlan.days * 86400000
        : null;

      localStorage.setItem("plan",JSON.stringify({
        price,
        name: selectedPlan.name,
        expiry,
        aiLeft: selectedPlan.ai
      }));

      alert("ðŸŽ‰ Payment successful! Plan activated.");
      renderPlan();
    },

    theme:{ color:"#0f172a" }
  };

  new Razorpay(options).open();
}

/* Init */
renderPlan();
</script>

</body>
</html>
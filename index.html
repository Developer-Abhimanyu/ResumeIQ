<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />

  <!-- SEO -->
  <title>ResumeIQ â€“ ATS Resume Builder & JD Matcher</title>
  <meta name="description" content="ResumeIQ helps you optimize your resume for ATS systems. Improve ATS score, match job descriptions, and download recruiter-ready PDFs." />
  <meta name="keywords" content="ATS Resume Builder, Resume ATS Checker, Job Description Match, Resume PDF" />

  <!-- Social -->
  <meta property="og:title" content="ResumeIQ â€“ ATS Resume Builder" />
  <meta property="og:description" content="Improve your ATS score by 25â€“40%. Match job descriptions instantly and download ATS-friendly resumes." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://resumeiq.online" />

  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 24px;
      max-width: 900px;
      margin: auto;
      background: #fafafa;
    }
    input, textarea, button, select {
      width: 100%;
      margin: 8px 0;
      padding: 10px;
      font-size: 14px;
    }
    button { cursor: pointer; }
    button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    .box {
      background: #fff;
      padding: 16px;
      margin-top: 24px;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.08);
    }
    .muted { color: #666; font-size: 14px; }
  </style>

  <!-- PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <!-- Razorpay -->
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
</head>
<body>

<h2>ATS Resume Builder</h2>
<p class="muted">Improve your resume ATS score and match job descriptions in seconds.</p>

<input id="name" placeholder="Name" />
<input id="role" placeholder="Target Role" />
<textarea id="summary" placeholder="Professional Summary"></textarea>
<button id="rewriteBtn" onclick="rewriteSummary()">âœ¨ Rewrite Summary (AI)</button>

<textarea id="jd" placeholder="Job Description"></textarea>
<textarea id="experience" placeholder="Experience"></textarea>
<input id="skills" placeholder="Skills (comma separated)" />

<button onclick="saveResume()">Save Resume</button>
<button id="pdfBtn" onclick="downloadPDF()">Download Resume (PDF)</button>

<!-- PLAN -->
<div class="box">
  <h3>Current Plan</h3>
  <p><b>Plan:</b> <span id="plan"></span></p>
  <p><b>Plan Expiry:</b> <span id="expiry"></span></p>
  <p><b>AI Rewrites Left:</b> <span id="aiLeft"></span></p>
</div>

<!-- UPGRADE -->
<div class="box">
  <h3>Upgrade Plan</h3>
  <select id="upgradeSelect">
    <option value="49">â‚¹49 â€“ One Time</option>
    <option value="99">â‚¹99 â€“ 1 Week</option>
    <option value="149">â‚¹149 â€“ 15 Days</option>
    <option value="299">â‚¹299 â€“ 1 Month</option>
    <option value="699">â‚¹699 â€“ 3 Months</option>
    <option value="999">â‚¹999 â€“ 6 Months</option>
    <option value="1699">â‚¹1699 â€“ 1 Year</option>
  </select>
  <button onclick="upgradePlan()">Upgrade</button>
</div>

<div class="box muted">
  ResumeIQ v1.0 â€¢ Last updated: <span id="buildDate"></span>
</div>

<script>
document.getElementById("buildDate").textContent = new Date().toLocaleDateString();

/* ðŸ”‘ Razorpay TEST Key */
const RAZORPAY_KEY = "rzp_test_SC2mAeZLsa3z1e";

/* PLANS */
const PLANS = {
  49:{name:"One-Time",days:1,ai:3},
  99:{name:"Weekly",days:7,ai:10},
  149:{name:"15 Days",days:15,ai:25},
  299:{name:"Monthly",days:30,ai:50},
  699:{name:"3 Months",days:90,ai:120},
  999:{name:"6 Months",days:180,ai:250},
  1699:{name:"Yearly",days:365,ai:999}
};

/* DEFAULT PLAN */
if(!localStorage.getItem("plan")){
  localStorage.setItem("plan",JSON.stringify({
    price:49,
    name:"One-Time",
    expiry:null,
    aiLeft:3
  }));
}

/* HELPERS */
function getPlan(){
  return JSON.parse(localStorage.getItem("plan"));
}

function renderPlan(){
  const p = getPlan();
  plan.textContent = `â‚¹${p.price} (${p.name})`;
  expiry.textContent = p.expiry
    ? new Date(p.expiry).toLocaleDateString()
    : "One-time";
  aiLeft.textContent = p.aiLeft;

  rewriteBtn.disabled = p.aiLeft <= 0;
  pdfBtn.disabled = p.aiLeft <= 0;
}

/* AI REWRITE â€“ PAYWALL ENFORCED */
function rewriteSummary(){
  const p = getPlan();

  if(p.aiLeft <= 0){
    alert("âš ï¸ AI limit reached. Please upgrade your plan.");
    return;
  }

  summary.value = summary.value
    ? summary.value + " (AI optimized)"
    : "AI optimized professional summary.";

  p.aiLeft -= 1;
  localStorage.setItem("plan",JSON.stringify(p));
  renderPlan();
}

/* PDF */
function downloadPDF(){
  const p = getPlan();
  if(p.aiLeft <= 0){
    alert("âš ï¸ Upgrade required to download PDF.");
    return;
  }

  const { jsPDF } = window.jspdf;
  const pdf = new jsPDF();
  pdf.text(`Name: ${name.value}`,10,10);
  pdf.text(`Role: ${role.value}`,10,20);
  pdf.text(`Summary: ${summary.value}`,10,30);
  pdf.save("resume.pdf");
}

/* SAVE */
function saveResume(){
  alert("Resume saved locally (demo).");
}

/* RAZORPAY */
function upgradePlan(){
  const price = upgradeSelect.value;
  const planDef = PLANS[price];
  if(!planDef) return alert("Invalid plan");

  const options = {
    key: RAZORPAY_KEY,
    amount: price * 100,
    currency: "INR",
    name: "ResumeIQ",
    description: `${planDef.name} Plan`,
    prefill:{
      name: name.value || "ResumeIQ User",
      email: "test@resumeiq.online"
    },
    handler: function(){
      const expiry = planDef.days
        ? Date.now() + planDef.days * 86400000
        : null;

      localStorage.setItem("plan",JSON.stringify({
        price,
        name: planDef.name,
        expiry,
        aiLeft: planDef.ai
      }));

      alert("ðŸŽ‰ Payment successful! Plan activated.");
      renderPlan();
    },
    theme:{ color:"#0f172a" }
  };

  new Razorpay(options).open();
}

/* INIT */
renderPlan();
</script>

</body>
</html>